{
    "version": 2.0,
    "target": "bcm2835",
    "algorithms": [
        {
            "rpi.black_level":
            {
                "black_level":  4096
            }
        },
        {
            "rpi.dpc": { }
        },
        {
            "rpi.lux":
            {
                "reference_shutter_speed": 27685,
                "reference_gain": 1.0,
                "reference_aperture": 1.0,
                "reference_lux": 1500,
                "reference_Y": 12744
            }
        },
        {
            "rpi.noise":
            {
                "reference_constant": 0,
                "reference_slope": 3.67
            }
        },
        {
            "rpi.geq":
            {
                "offset": 0,
                "slope": 0.0
            }
        },
        {
            "rpi.sdn": { }
        },
        {
            "rpi.awb":
            {
                "bayes": 1
            }
        },
        {
            "rpi.agc":
            {
                "metering_modes":
                {
                    "centre-weighted":
                    {
                        "weights": [ 3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0 ]
                    },
                    "spot":
                    {
                        "weights": [ 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
                    },
                    "matrix":
                    {
                        "weights": [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ]
                    },
                    "custom":
                    {
                        "weights": [ 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 2, 0, 0, 1, 1 ]
                    }
                },
                "exposure_modes":
                {
                    "normal":
                    {
                        "shutter": [ 100, 10000, 30000, 60000, 66666 ],
                        "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                    },
                    "short":
                    {
                        "shutter": [ 100, 5000, 10000, 20000, 33333 ],
                        "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                    },
                    "long":
                    {
                        "shutter": [ 100, 10000, 30000, 60000, 120000 ],
                        "gain": [ 1.0, 2.0, 4.0, 6.0, 12.0 ]
                    }
                },
                "constraint_modes":
                {
                    "normal": [
                        {
                            "bound": "LOWER",
                            "q_lo": 0.9,
                            "q_hi": 1.0,
                            "y_target": [
                                0, 0.5,
                                1000, 0.5
                            ]
                        },
                        {
                            "bound": "UPPER",
                            "q_lo": 0.0,
                            "q_hi": 0.2,
                            "y_target": [
                                0, 0.05,
                                1000, 0.05
                            ]
                        }
                    ],
                    "highlight": [
                        {
                            "bound": "LOWER",
                            "q_lo": 0.98,
                            "q_hi": 1.0,
                            "y_target":
                            [
                                0, 0.5,
                                1000, 0.5
                            ]
                        },
                        {
                            "bound": "UPPER",
                            "q_lo": 0.98,
                            "q_hi": 1.0,
                            "y_target":
                            [
                                0, 0.8,
                                1000, 0.8
                            ]
                        }
                    ],
                    "shadows": [
                        {
                            "bound": "LOWER",
                            "q_lo": 0.0,
                            "q_hi": 0.5,
                            "y_target":
                            [
                                0, 0.17,
                                1000, 0.17
                            ]
                        }
                    ]
                },
                "y_target":
                [
                    0, 0.16,
                    1000, 0.165,
                    10000, 0.17
                ]
            }
        },
        {
            "rpi.alsc":
            {
                "omega": 1.3,
                "n_iter": 100,
                "luminance_strength": 0.7
            }
        },
        {
            "rpi.contrast":
            {
                "ce_enable": 1,
                "gamma_curve":
                [
                    0, 0,
                    1024, 5040,
                    2048, 9338,
                    3072, 12356,
                    4096, 15312,
                    5120, 18051,
                    6144, 20790,
                    7168, 23193,
                    8192, 25744,
                    9216, 27942,
                    10240, 30035,
                    11264, 32005,
                    12288, 33975,
                    13312, 35815,
                    14336, 37600,
                    15360, 39168,
                    16384, 40642,
                    18432, 43379,
                    20480, 45749,
                    22528, 47753,
                    24576, 49621,
                    26624, 51253,
                    28672, 52698,
                    30720, 53796,
                    32768, 54876,
                    36864, 57012,
                    40960, 58656,
                    45056, 59954,
                    49152, 61183,
                    53248, 62355,
                    57344, 63419,
                    61440, 64476,
                    65535, 65535
                ]
            }
        },
        {
            "rpi.ccm":
            {
                "ccms": [
                    {
                        "ct": 2498,
                        "ccm":
                        [
                            1.58731, -0.18011, -0.40721,
                            -0.60639, 2.03422, -0.42782,
                            -0.19612, -1.69203, 2.88815
                        ]
                    },
                    {
                        "ct": 2811,
                        "ccm":
                        [
                            1.61593, -0.33164, -0.28429,
                            -0.55048, 1.97779, -0.42731,
                            -0.12042, -1.42847, 2.54889
                        ]
                    },
                    {
                        "ct": 2911,
                        "ccm":
                        [
                            1.62771, -0.41282, -0.21489,
                            -0.57991, 2.04176, -0.46186,
                            -0.07613, -1.13359, 2.20972
                        ]
                    },
                    {
                        "ct": 2919,
                        "ccm":
                        [
                            1.62661, -0.37736, -0.24925,
                            -0.52519, 1.95233, -0.42714,
                            -0.10842, -1.34929, 2.45771
                        ]
                    },
                    {
                        "ct": 3627,
                        "ccm":
                        [
                            1.70385, -0.57231, -0.13154,
                            -0.47763, 1.85998, -0.38235,
                            -0.07467, -0.82678, 1.90145
                        ]
                    },
                    {
                        "ct": 4600,
                        "ccm":
                        [
                            1.68486, -0.61085, -0.07402,
                            -0.41927, 2.04016, -0.62089,
                            -0.08633, -0.67672, 1.76305
                        ]
                    },
                    {
                        "ct": 5716,
                        "ccm":
                        [
                            1.80439, -0.73699, -0.06739,
                            -0.36073, 1.83327, -0.47255,
                            -0.08378, -0.56403, 1.64781
                        ]
                    },
                    {
                        "ct": 8575,
                        "ccm":
                        [
                            1.89357, -0.76427, -0.12931,
                            -0.27399, 2.15605, -0.88206,
                            -0.12035, -0.68256, 1.80292
                        ]
                    }
                ]
            }
        },
        {
            "rpi.sharpen": { }
        }
    ]
}
